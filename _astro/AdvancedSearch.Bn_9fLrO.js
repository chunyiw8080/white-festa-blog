import{o as e}from"./index-client.B4D_S6KF.js";import{i as a}from"./lifecycle.i5tTI5H4.js";import{f as r,t as s,g as t,e as i,a as o,p as l,b as d,s as c,c as n,d as p,u as m,h as v,i as f,m as u,r as x}from"./template.u955vnAV.js";import{s as h}from"./render.B8C2nj67.js";import{i as b}from"./if.Dwju0AGJ.js";import{e as g,i as y}from"./each.CBIK4qww.js";import{I as w,h as j}from"./Icon.Cid9QRLZ.js";import{p as k,i as I,s as T,r as z}from"./translation.Chm_WEWT.js";import{b as S}from"./input.CfSniAlm.js";import{I as _}from"./zh_TW.BlK-cjap.js";import{u as E}from"./url-utils.D-JBaO7r.js";/* empty css                        */import"./branches.B1fGqtGm.js";/* empty css                        */var L=v('<p class="text-base text-50 leading-relaxed"> </p>'),P=v('<div class="flex justify-center py-10"><!></div>'),R=v('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),q=v('<div class="space-y-4"></div>'),A=v('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),B=v('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),C=v('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function D(v,D){d(D,!1);let F=k(D,"title",24,()=>I(_.search)),G=k(D,"description",8,""),H=u(""),N=u([]),U=u(!1),W=!1;E("/"),E("/");const J=async()=>{if(W&&t(H).trim()){c(U,!0);try{if(window.pagefind){const e=await window.pagefind.search(t(H)),a=await Promise.all(e.results.map(e=>e.data()));c(N,a)}else 0}catch(e){console.error("Search error:",e),c(N,[])}finally{c(U,!1)}}else c(N,[])};let K;e(()=>{const e=async()=>{W=!0;const e=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();e&&c(H,e),t(H).trim()&&await J()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});a();var M=C(),O=r(M),Q=f(O),V=f(Q),X=f(V),Y=f(X);w(Y,{icon:"material-symbols:search",class:"text-[1.5rem]"}),x(X);var Z=n(X,2),$=f(Z,!0);x(Z),x(V);var ee=n(V,2),ae=e=>{var a=L(),r=f(a,!0);x(a),s(()=>h(r,G())),o(e,a)};b(ee,e=>{G()&&e(ae)}),x(Q);var re=n(Q,2),se=f(re),te=f(se),ie=f(te);w(ie,{icon:"material-symbols:search",class:"text-2xl text-50"}),x(te);var oe=n(te,2);z(oe),x(se),x(re),x(O);var le=n(O,2),de=f(le),ce=f(de),ne=e=>{var a=P(),r=f(a);w(r,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),x(a),o(e,a)},pe=e=>{var a=q();g(a,5,()=>t(N),y,(e,a)=>{var r=R(),i=f(r),l=f(i),d=f(l);j(d,()=>(t(a),m(()=>t(a).meta.title))),x(l);var c=n(l,2),p=f(c);j(p,()=>(t(a),m(()=>t(a).excerpt))),x(c),x(i),x(r),s(()=>T(i,"href",(t(a),m(()=>t(a).url)))),o(e,r)}),x(a),o(e,a)},me=e=>{var a=A(),r=f(a,!0);x(a),s(e=>h(r,e),[()=>(p(I),p(_),m(()=>I(_.searchNoResults)))]),o(e,a)},ve=e=>{var a=B(),r=f(a,!0);x(a),s(e=>h(r,e),[()=>(p(I),p(_),m(()=>I(_.searchTypeSomething)))]),o(e,a)};b(ce,e=>{t(U)?e(ne):(t(N),m(()=>t(N).length>0)?e(pe,1):t(H)?e(me,2):e(ve,!1))}),x(de),x(le),s(e=>{h($,F()),T(oe,"placeholder",e)},[()=>(p(I),p(_),m(()=>I(_.search)))]),S(oe,()=>t(H),e=>c(H,e)),i("input",oe,()=>{clearTimeout(K),K=setTimeout(()=>{J()},300)}),o(v,M),l()}export{D as default};
